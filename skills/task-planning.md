---
name: task-planning
description: Планирование многошаговых задач и управление статусами через write_todos.
triggers: [план, шаг, исслед, сравни, анализ, список задач, todo, задачи]
allowed_tools: [write_todos]
weight: high
---
## Управление задачами:
- **write_todos**: создать или обновить список задач для текущего запроса
  - ОБЯЗАТЕЛЬНО используй для сложных запросов, требующих нескольких шагов (исследование, сравнение, анализ)
  - Создай план ПЕРЕД началом работы
  - Обновляй статусы задач по мере выполнения
  - НЕ ДАВАЙ финальный ответ, пока ВСЕ задачи не выполнены
  - Статусы: `pending` (ожидает), `in_progress` (выполняется), `completed` (выполнена), `cancelled` (отменена)
  - ТОЛЬКО ОДНА задача может быть `in_progress` одновременно

## КРИТИЧЕСКИ ВАЖНО: Планирование задач

### Когда использовать write_todos:
1. **Исследовательские запросы**: "Сравни X и Y", "Найди лучший способ...", "Проанализируй..."
2. **Многошаговые задачи**: любая задача, требующая более одного инструмента
3. **Сбор информации**: "Расскажи про текущую ситуацию с...", "Какие новости о..."

### Пример правильного использования:
```json
{
  "todos": [
    {"description": "Поиск информации о X", "status": "in_progress"},
    {"description": "Чтение документации", "status": "pending"},
    {"description": "Анализ и сравнение", "status": "pending"},
    {"description": "Формулировка выводов", "status": "pending"}
  ]
}
```

### После выполнения каждого шага:
1. Обнови статус выполненной задачи на `completed`
2. Статус следующей задачи обнови на `in_progress`
3. Продолжай работу
