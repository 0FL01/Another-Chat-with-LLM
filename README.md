# Another Chat TG Bot (Rust)

–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π Telegram-–±–æ—Ç —Å –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–π –º–Ω–æ–∂–µ—Å—Ç–≤–æ –º–æ–¥–µ–ª–µ–π, –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–æ—Å—Ç—å –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π **–†–µ–∂–∏–º –ê–≥–µ–Ω—Ç–∞** —Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –∫–æ–¥–∞. **–ù–∞–ø–∏—Å–∞–Ω –Ω–∞ Rust.**

## –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π Telegram-–±–æ—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ API –±–æ–ª—å—à–∏—Ö —è–∑—ã–∫–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π (LLM) –¥–ª—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –º–Ω–æ–≥–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞. –ë–æ—Ç –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–µ, –≥–æ–ª–æ—Å–æ–≤—ã–µ, –≤–∏–¥–µ–æ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, —Ä–∞–±–æ—Ç–∞—Ç—å —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏, —É–ø—Ä–∞–≤–ª—è—Ç—å –∏—Å—Ç–æ—Ä–∏–µ–π –¥–∏–∞–ª–æ–≥–∞ –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å —Å–ª–æ–∂–Ω—ã–µ –∑–∞–¥–∞—á–∏ –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–µ—Å–æ—á–Ω–∏—Ü–µ.

–ë–æ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **Rust 1.92**, –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `teloxide`, AWS SDK –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å Cloudflare R2, –∏ –Ω–∞—Ç–∏–≤–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏ –ò–ò (Groq, Mistral AI, Google Gemini, OpenRouter, Zai).

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

*   **ü§ñ –†–µ–∂–∏–º –ê–≥–µ–Ω—Ç–∞ (Agent Mode):**
    *   **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–µ—Å–æ—á–Ω–∏—Ü–∞:** –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ Python-–∫–æ–¥–∞ –∏ Bash-–∫–æ–º–∞–Ω–¥ –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö (Python 3.12).
    *   **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (Tools):** –ß—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å —Ñ–∞–π–ª–æ–≤, –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥, –ø–æ–∏—Å–∫ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ, —Ä–∞–±–æ—Ç–∞ —Å –≤–∏–¥–µ–æ –∏ —Ñ–∞–π–ª–æ–≤—ã–º —Ö–æ—Å—Ç–∏–Ω–≥–æ–º.
    *   **üìã –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏ (Todos):** –°–∏—Å—Ç–µ–º–∞ `write_todos` –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.
    *   **üéØ –°–∏—Å—Ç–µ–º–∞ –Ω–∞–≤—ã–∫–æ–≤ (Skills):** RAG-—Å–∏—Å—Ç–µ–º–∞ —Å embeddings –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏–∑ markdown-–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (7 –Ω–∞–≤—ã–∫–æ–≤: core, ffmpeg, file-hosting, file-management, task-planning, video-processing, web-search).
    *   **üìÅ –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏:** –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ª–∏–º–∏—Ç –¥–æ 4GB), —É–º–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ —Ç–∏–ø–æ–≤, —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∏–∑ –ø–µ—Å–æ—á–Ω–∏—Ü—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.
    *   **üé¨ –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∏–¥–µ–æ:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è yt-dlp –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –≤–∏–¥–µ–æ –∏ –º–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤ –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞.
    *   **‚òÅÔ∏è –§–∞–π–ª–æ–≤—ã–π —Ö–æ—Å—Ç–∏–Ω–≥:** –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ –∏–∑ –ø–µ—Å–æ—á–Ω–∏—Ü—ã –Ω–∞ –ø—É–±–ª–∏—á–Ω—ã–π —Ö–æ—Å—Ç–∏–Ω–≥ —Å –∫–æ—Ä–æ—Ç–∫–∏–º –≤—Ä–µ–º–µ–Ω–µ–º –∂–∏–∑–Ω–∏.
    *   **–í–µ–±-–ø–æ–∏—Å–∫ –∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Tavily API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ —Å–µ—Ç–∏.
    *   **üîó –°–∏—Å—Ç–µ–º–∞ —Ö—É–∫–æ–≤ (Hooks):** –†–∞—Å—à–∏—Ä—è–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ –∏ –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è –∞–≥–µ–Ω—Ç–∞ –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —ç—Ç–∞–ø–∞—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (completion, registry).
    *   **üîÑ –î–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏—è:** –¢—Ä–∏ —É—Ä–æ–≤–Ω—è –∑–∞—â–∏—Ç—ã –æ—Ç –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏—è –∞–≥–µ–Ω—Ç–∞ (content_detector, tool_detector, llm_detector).
    *   **–ê–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç—å:** –ê–≥–µ–Ω—Ç —Å–∞–º —Ä–µ—à–∞–µ—Ç, –∫–∞–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏.
    *   **–û—Ç–¥–µ–ª—å–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∞–≥–µ–Ω—Ç—É (—á–µ—Ä–µ–∑ `AGENT_ACCESS_IDS`) –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±–æ—Ç–∞.
    *   **–î–æ–ª–≥–∞—è –ø–∞–º—è—Ç—å –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–ª–∏–Ω–Ω—ã—Ö —Ü–µ–ø–æ—á–µ–∫ —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–π —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Å–∂–∞—Ç–∏–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (200K —Ç–æ–∫–µ–Ω–æ–≤).
    *   **–ü—Ä–æ–≥—Ä–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —à–∞–≥–∞ —Ä–∞–±–æ—Ç—ã –∞–≥–µ–Ω—Ç–∞ –≤ Telegram.
*   **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ LLM:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Groq, Mistral AI, Google Gemini, OpenRouter –∏ Zai.
*   **–ù–∞—Ç–∏–≤–Ω—ã–π Tool Calling:** –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –≤ –º–æ–¥–µ–ª—è—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, Mistral Large, Devstral).
*   **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –≤–≤–æ–¥–∞:**
    *   –¢–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è.
    *   –ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (—Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏ —á–µ—Ä–µ–∑ Gemini).
    *   –í–∏–¥–µ–æ —Å–æ–æ–±—â–µ–Ω–∏—è (–∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∞—É–¥–∏–æ –∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ).
    *   –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–∞–Ω–∞–ª–∏–∑ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏).
*   **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º:**
    *   –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –¥–∏–∞–ª–æ–≥–∞ –≤ Cloudflare R2 (S3-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ).
    *   –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—á–∏—Å—Ç–∫–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞.
*   **–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å Docker:** –ü–æ–ª–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ —Å—Ä–µ–¥—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞–≥–µ–Ω—Ç–∞.
*   **–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** Rust –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ–≤–µ—Ä—Ö–µ–¥ –∏ –Ω–∞–¥–µ–∂–Ω—É—é —Ä–∞–±–æ—Ç—É –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π.
*   **üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `unsafe_code = forbid`, —Å—Ç—Ä–æ–≥–∏–µ Clippy lints (`unwrap_used`, `too_many_lines`, `too_many_arguments` = forbid), –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –∫–æ–¥–∞.

## –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —É—Å–ª–æ–≤–∏—è

*   **Docker:** –û–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –ø–µ—Å–æ—á–Ω–∏—Ü—ã –∞–≥–µ–Ω—Ç–∞.
*   **Cloudflare R2:** –ë–∞–∫–µ—Ç –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∏—Å—Ç–æ—Ä–∏–∏.
*   **API –ö–ª—é—á–∏:** –ö–∞–∫ –º–∏–Ω–∏–º—É–º –æ–¥–∏–Ω –∏–∑ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è OpenRouter –∏–ª–∏ Gemini).
*   **Tavily API:** –î–ª—è –≤–µ–±-–ø–æ–∏—Å–∫–∞ –≤ —Ä–µ–∂–∏–º–µ –ê–≥–µ–Ω—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, feature flag `tavily`).

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1.  **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
    ```bash
    git clone https://github.com/0FL01/Another-Chat-with-LLM.git
    cd Another-Chat-with-LLM
    ```

2.  **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
    –°–æ–∑–¥–∞–π—Ç–µ `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.example`.

3.  **–°–æ–±–µ—Ä–∏—Ç–µ –æ–±—Ä–∞–∑ –ø–µ—Å–æ—á–Ω–∏—Ü—ã:**
    ```bash
    cd sandbox
    docker build -t agent-sandbox:latest -f Dockerfile.sandbox .
    cd ..
    ```

4.  **–°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:**
    ```bash
    docker-compose up --build -d
    ```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (.env)

```dotenv
# Telegram
TELEGRAM_TOKEN=–í–ê–®_–¢–û–ö–ï–ù
ALLOWED_USERS=ID1,ID2 # –°–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö Telegram ID (–±–∞–∑–æ–≤—ã–π –¥–æ—Å—Ç—É–ø)
AGENT_ACCESS_IDS=ID1 # –î–æ—Å—Ç—É–ø –∫ –†–µ–∂–∏–º—É –ê–≥–µ–Ω—Ç–∞ (—Ç—Ä–∞—Ç–∏—Ç –º–Ω–æ–≥–æ —Ç–æ–∫–µ–Ω–æ–≤)

# Cloudflare R2 (S3)
R2_ACCESS_KEY_ID=...
R2_SECRET_ACCESS_KEY=...
R2_ENDPOINT_URL=...
R2_BUCKET_NAME=...

# API Keys
GROQ_API_KEY=...
MISTRAL_API_KEY=...
GEMINI_API_KEY=...
OPENROUTER_API_KEY=...
ZAI_API_KEY=... # –ü—Ä–æ–≤–∞–π–¥–µ—Ä Zai
TAVILY_API_KEY=... # –ö–ª—é—á Tavily –¥–ª—è –≤–µ–±-–ø–æ–∏—Å–∫–∞ –≤ —Ä–µ–∂–∏–º–µ –ê–≥–µ–Ω—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∞–≥–µ–Ω—Ç–∞

### üéØ –°–∏—Å—Ç–µ–º–∞ –Ω–∞–≤—ã–∫–æ–≤ (Skills)

–ê–≥–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç RAG-–ø–æ–¥—Ö–æ–¥ —Å embeddings –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞:

- **7 –Ω–∞–≤—ã–∫–æ–≤** –≤ –≤–∏–¥–µ markdown-–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (`skills/`)
- **–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ** –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –Ω–∞–≤—ã–∫–∞–º–∏ —á–µ—Ä–µ–∑ –∫–æ—Å–∏–Ω—É—Å–Ω–æ–µ –ø–æ–¥–æ–±–∏–µ
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ embeddings** –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ (Moka cache)
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω—ä–µ–∫—Ü–∏—è** —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –≤ —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç

### üîÑ –ó–∞—â–∏—Ç–∞ –æ—Ç –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏—è

–¢—Ä—ë—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏—è (`agent/loop_detection/`):

1. **Content Detector** ‚Äî –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è –∞–≥–µ–Ω—Ç–∞
2. **Tool Detector** ‚Äî –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –≤—ã–∑–æ–≤—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
3. **LLM Detector** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç LLM –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏—è

### üîó –°–∏—Å—Ç–µ–º–∞ —Ö—É–∫–æ–≤ (Hooks)

–†–∞—Å—à–∏—Ä—è–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è –∞–≥–µ–Ω—Ç–∞:

- **Completion Hook** ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á
- **Registry** ‚Äî —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ö—É–∫–∞–º–∏
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ö—É–∫–æ–≤

### üõ†Ô∏è –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

–ê–≥–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–æ–¥—É–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤:

- **Sandbox Provider** (`sandbox.rs`, ~20KB) ‚Äî –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞, —á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å —Ñ–∞–π–ª–æ–≤, –∫–æ–º–∞–Ω–¥—ã –æ–±–æ–ª–æ—á–∫–∏
- **Tavily Provider** (`tavily.rs`) ‚Äî –≤–µ–±-–ø–æ–∏—Å–∫ –∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
- **Todos Provider** (`todos.rs`) ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–º –∑–∞–¥–∞—á –¥–ª—è –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- **YT-DLP Provider** (`ytdlp.rs`, ~33KB) ‚Äî —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ –∏ –∞—É–¥–∏–æ —Å —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
- **File Hoster Provider** (`filehoster.rs`) ‚Äî –ø—É–±–ª–∏—á–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ –Ω–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ö–æ—Å—Ç–∏–Ω–≥ (–¥–æ 4GB)
- **Path Provider** (`path.rs`) ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –ø—É—Ç—è–º–∏ –∏ —Ñ–∞–π–ª–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1.  –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start` –±–æ—Ç—É.
2.  **–û–±—ã—á–Ω—ã–π —Ä–µ–∂–∏–º:** –ü—Ä–æ—Å—Ç–æ –ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ —Ñ–∞–π–ª—ã/–≥–æ–ª–æ—Å–æ–≤—ã–µ.
3.  **ü§ñ –†–µ–∂–∏–º –ê–≥–µ–Ω—Ç–∞:** –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "ü§ñ –†–µ–∂–∏–º –ê–≥–µ–Ω—Ç–∞". –¢–µ–ø–µ—Ä—å –±–æ—Ç —Å–º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–¥ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã.
    
    **–ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥ –¥–ª—è –∞–≥–µ–Ω—Ç–∞:**
    - *"–ù–∞–ø–∏—à–∏ —Å–∫—Ä–∏–ø—Ç –Ω–∞ python, –∫–æ—Ç–æ—Ä—ã–π —Å–∫–∞—á–∏–≤–∞–µ—Ç –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É google –∏ –Ω–∞–π–¥–∏ —Ç–∞–º —Å–ª–æ–≤–æ 'Search'"*
    - *"–°–∫–∞—á–∞–π –≤–∏–¥–µ–æ —Å YouTube –ø–æ —Å—Å—ã–ª–∫–µ [URL] –∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–π –µ–≥–æ –≤ MP4 —á–µ—Ä–µ–∑ FFmpeg"*
    - *"–°–æ–∑–¥–∞–π CSV —Ñ–∞–π–ª —Å –¥–∞–Ω–Ω—ã–º–∏ –æ –ø–æ–≥–æ–¥–µ –∏ –∑–∞–≥—Ä—É–∑–∏ –µ–≥–æ –Ω–∞ file.io"*
    - *"–ù–∞–π–¥–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –Ω–æ–≤–æ—Å—Ç—è—Ö –ø–æ –ò–ò —á–µ—Ä–µ–∑ –≤–µ–±-–ø–æ–∏—Å–∫"*
    
4.  **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ "–û—á–∏—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç", "–°–º–µ–Ω–∏—Ç—å –º–æ–¥–µ–ª—å" –∏–ª–∏ "–î–æ–ø —Ñ—É–Ω–∫—Ü–∏–∏".

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```text
src/
‚îú‚îÄ‚îÄ main.rs                    # —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ lib.rs                     # –±–∏–±–ª–∏–æ—Ç–µ—á–Ω—ã–π –∫–æ—Ä–µ–Ω—å
‚îú‚îÄ‚îÄ agent/                     # —è–¥—Ä–æ –∞–≥–µ–Ω—Ç–∞ –∏ –ª–æ–≥–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ mod.rs
‚îÇ   ‚îú‚îÄ‚îÄ executor.rs            # –≥–ª–∞–≤–Ω—ã–π –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –∞–≥–µ–Ω—Ç–∞ (~60KB)
‚îÇ   ‚îú‚îÄ‚îÄ loop_detection/        # –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ mod.rs
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config.rs          # –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ content_detector.rs  # –¥–µ—Ç–µ–∫—Ç–æ—Ä –ø–æ–≤—Ç–æ—Ä—è—é—â–µ–≥–æ—Å—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tool_detector.rs   # –¥–µ—Ç–µ–∫—Ç–æ—Ä –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ llm_detector.rs    # LLM-–∞–Ω–∞–ª–∏–∑ –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ service.rs         # —Å–µ—Ä–≤–∏—Å –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ types.rs
‚îÇ   ‚îú‚îÄ‚îÄ skills/                # –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞ –Ω–∞–≤—ã–∫–æ–≤ (RAG/embeddings)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ mod.rs
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cache.rs           # –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–≤—ã–∫–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ embeddings.rs      # –≥–µ–Ω–µ—Ä–∞—Ü–∏—è embeddings
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ loader.rs          # –∑–∞–≥—Ä—É–∑–∫–∞ markdown –Ω–∞–≤—ã–∫–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ matcher.rs         # —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ registry.rs        # —Ä–µ–µ—Å—Ç—Ä –Ω–∞–≤—ã–∫–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ types.rs
‚îÇ   ‚îú‚îÄ‚îÄ hooks/                 # —Ö—É–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ mod.rs
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ completion.rs      # —Ö—É–∫ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ registry.rs        # —Ä–µ–µ—Å—Ç—Ä —Ö—É–∫–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ types.rs
‚îÇ   ‚îú‚îÄ‚îÄ providers/             # –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ mod.rs
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ filehoster.rs      # –ø—É–±–ª–∏—á–Ω—ã–π —Ö–æ—Å—Ç–∏–Ω–≥ —Ñ–∞–π–ª–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ path.rs            # —Ä–∞–±–æ—Ç–∞ —Å –ø—É—Ç—è–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sandbox.rs         # Docker –ø–µ—Å–æ—á–Ω–∏—Ü–∞ (~20KB)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tavily.rs          # –≤–µ–±-–ø–æ–∏—Å–∫ —á–µ—Ä–µ–∑ Tavily
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ todos.rs           # —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ytdlp.rs           # —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ (~33KB)
‚îÇ   ‚îú‚îÄ‚îÄ session.rs             # —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ memory.rs              # –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–∞—è –ø–∞–º—è—Ç—å
‚îÇ   ‚îú‚îÄ‚îÄ preprocessor.rs        # –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ progress.rs            # –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
‚îÇ   ‚îú‚îÄ‚îÄ provider.rs            # —Ç—Ä–µ–π—Ç ToolProvider
‚îÇ   ‚îî‚îÄ‚îÄ registry.rs            # —Ä–µ–µ—Å—Ç—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
‚îú‚îÄ‚îÄ bot/                       # –ª–æ–≥–∏–∫–∞ Telegram-–±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ mod.rs
‚îÇ   ‚îú‚îÄ‚îÄ handlers.rs            # –æ—Å–Ω–æ–≤–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ agent_handlers.rs      # –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ä–µ–∂–∏–º–∞ –∞–≥–µ–Ω—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ state.rs               # —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±–æ—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ unauthorized_cache.rs  # –∫—ç—à –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îú‚îÄ‚îÄ llm/                       # –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏ LLM
‚îÇ   ‚îú‚îÄ‚îÄ mod.rs
‚îÇ   ‚îú‚îÄ‚îÄ common.rs              # –æ–±—â–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ providers.rs           # —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ openai_compat.rs       # OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
‚îÇ   ‚îî‚îÄ‚îÄ http_utils.rs          # HTTP —É—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ sandbox/                   # —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Docker-–ø–µ—Å–æ—á–Ω–∏—Ü–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ mod.rs
‚îÇ   ‚îî‚îÄ‚îÄ manager.rs             # –º–µ–Ω–µ–¥–∂–µ—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
‚îú‚îÄ‚îÄ storage.rs                 # —Ä–∞–±–æ—Ç–∞ —Å Cloudflare R2/S3
‚îú‚îÄ‚îÄ config.rs                  # –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –º–æ–¥–µ–ª–∏
‚îî‚îÄ‚îÄ utils.rs                   # –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (~21KB)

skills/                        # –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–∞–≤—ã–∫–æ–≤ (markdown)
‚îú‚îÄ‚îÄ core.md                    # –±–∞–∑–æ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏
‚îú‚îÄ‚îÄ ffmpeg-conversion.md       # –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —á–µ—Ä–µ–∑ FFmpeg
‚îú‚îÄ‚îÄ file-hosting.md            # —Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–æ–≤—ã–º —Ö–æ—Å—Ç–∏–Ω–≥–æ–º
‚îú‚îÄ‚îÄ file-management.md         # —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞–º–∏
‚îú‚îÄ‚îÄ task-planning.md           # –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á
‚îú‚îÄ‚îÄ video-processing.md        # –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∏–¥–µ–æ
‚îî‚îÄ‚îÄ web-search.md              # –≤–µ–±-–ø–æ–∏—Å–∫

backlog/                       # –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, –ø–ª–∞–Ω—ã –∏ —á–µ—Ä—Ç–µ–∂–∏
‚îú‚îÄ‚îÄ BLUEPRINT.md               # –æ—Å–Ω–æ–≤–Ω–æ–π –ø–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è –ø—Ä–æ–µ–∫—Ç–∞
‚îî‚îÄ‚îÄ docs/                      # –ø–æ–¥—Ä–æ–±–Ω—ã–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

tests/                         # –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã

sandbox/                       # –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker –¥–ª—è –ø–µ—Å–æ—á–Ω–∏—Ü—ã
‚îî‚îÄ‚îÄ Dockerfile.sandbox

.github/                       # CI/CD –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ workflows/
    ‚îî‚îÄ‚îÄ ci-cd.yml

Dockerfile                     # Dockerfile –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
docker-compose.yml
```

## –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏

| –ù–∞–∑–≤–∞–Ω–∏–µ | –ü—Ä–æ–≤–∞–π–¥–µ—Ä | –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ |
| :--- | :--- | :--- |
| **OR Gemini 3 Flash** | OpenRouter | –ú—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–æ—Å—Ç—å, –º–æ–¥–µ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é |
| **ZAI GLM-4.7** | Zai | GLM Coding Plan |
| **Mistral Large** | Mistral | –ë–µ—Å–ø–ª–∞—Ç–Ω–æ –∏ —â–µ–¥—Ä–æ |
| **Gemini 2.5 Flash Lite** | Google | –î–µ—à–µ–≤–æ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è |
| **Devstral 2512** | Mistral | –¢–æ–ø –∑–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ –¥–ª—è –∫–æ–¥–∏–Ω–≥–∞ –∏ —Ä–∞–±–æ—Ç—ã –ê–≥–µ–Ω—Ç–∞ |

## –ö–ª—é—á–µ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

**–û—Å–Ω–æ–≤–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:**

- **teloxide** (0.17.0) ‚Äî Telegram Bot API —Å –º–∞–∫—Ä–æ—Å–∞–º–∏ –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏
- **tokio** (1.48) ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è runtime —Å—Ä–µ–¥–∞
- **async-openai** (0.32.2) ‚Äî —Ä–∞–±–æ—Ç–∞ —Å OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º–∏ API
- **aws-sdk-s3** (1.119.0) ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Cloudflare R2
- **bollard** (0.19.4) ‚Äî Docker API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–µ—Å–æ—á–Ω–∏—Ü–µ–π
- **reqwest** (0.12) ‚Äî HTTP-–∫–ª–∏–µ–Ω—Ç —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π multipart –∏ streaming
- **serde_json** (1.0) ‚Äî JSON —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è/–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è
- **tiktoken-rs** (0.9.1) ‚Äî –ø–æ–¥—Å—á–µ—Ç —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
- **lazy-regex** (3.5.1) ‚Äî –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è
- **moka** (0.12) ‚Äî –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –∫—ç—à —Å TTL
- **tavily** (2.0) ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π feature –¥–ª—è –≤–µ–±-–ø–æ–∏—Å–∫–∞
- **chrono** (0.4.42) ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –¥–∞—Ç–∞–º–∏ –∏ –≤—Ä–µ–º–µ–Ω–µ–º
- **thiserror** (2.0.17) ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –æ—à–∏–±–æ–∫
- **anyhow** (1.0.100) ‚Äî —É–ø—Ä–æ—â–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (—Ç—Ä–µ–±—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π Rust):
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞
cargo check

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (51 —Ç–µ—Å—Ç–æ–≤)
cargo test --release

# –õ–∏–Ω—Ç–∏–Ω–≥ (Clippy —Å warn/deny)
cargo clippy --tests -- -D warnings

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
cargo fmt

# –°–±–æ—Ä–∫–∞ —Å feature flags
cargo build --release --features tavily
```

### CI/CD

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç GitHub Actions –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:
- **Testing:** –ó–∞–ø—É—Å–∫ `cargo check`, `cargo clippy`, `cargo test`, `cargo fmt`
- **Deployment:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ SSH –ø—Ä–∏ –ø—É—à–µ –≤ `main`

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ Lints

- **`unsafe_code = "forbid"`** –≤ workspace lints ‚Äî –∑–∞–ø—Ä–µ—â—ë–Ω –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫–æ–¥
- **Clippy lints (forbid level):**
  - `unwrap_used = "forbid"` ‚Äî –≤—Å–µ Result/Option –¥–æ–ª–∂–Ω—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ `?` –∏–ª–∏ `match`
  - `too_many_lines = "forbid"` ‚Äî —Ñ–∞–π–ª—ã >300 —Å—Ç—Ä–æ–∫ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞–∑–±–∏—Ç—ã
  - `too_many_arguments = "forbid"` ‚Äî —Ñ—É–Ω–∫—Ü–∏–∏ >3 –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ —Ç—Ä–µ–±—É—é—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É Context/Config
- **Feature flags:** Tavily –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ `--features tavily`
- **Error Handling:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `thiserror` –¥–ª—è –±–∏–±–ª–∏–æ—Ç–µ—á–Ω—ã—Ö –æ—à–∏–±–æ–∫, `anyhow` –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **Zero Panic Policy:** –ù–∏–∫–∞–∫–∏—Ö `unwrap()`, `expect()` –∏–ª–∏ `panic!()` –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License
